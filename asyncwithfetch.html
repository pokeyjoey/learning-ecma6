<!doctype html>

<html lang="en">
    <head>
      <meta charset="utf-8">

        <title>Async with Fetch</title>
        <meta name="description" content="Javascript Test Code">
        <meta name="author" content="Jeff Roche">

        <script "text/javascript">

            const githubRequest = async(loginName) => {
                try {
                    var response = await fetch(`http://api.github.com/users/${loginName}/followers`);
                    var json = await response.json();
                    var followerList = json.map(user => user.login);
                    console.log(followerList);
                } catch(e) {
                    console.log("Data didnt load", e);
                }
            };

            githubRequest('eveporcello');

            console.log('********');
            console.log('IFFE');
            (async(loginName) => {
                try {
                    var response = await fetch(`http://api.github.com/users/${loginName}/followers`);
                    var json = await response.json();
                    var followerList = json.map(user => user.login);
                    console.log(followerList);
                } catch(e) {
                    console.log("Data didnt load", e);
                }
            })(eveporcello);

        </script>

    </head>

    <body>
    </body>
</html>
